# Web3 University

ä¸€ä¸ªåŸºäºåŒºå—é“¾æŠ€æœ¯çš„å»ä¸­å¿ƒåŒ–åœ¨çº¿æ•™è‚²å¹³å°ï¼Œä½¿ç”¨ YD ä»£å¸è¿›è¡Œè¯¾ç¨‹äº¤æ˜“ï¼Œå¹¶é›†æˆ AAVE è¿›è¡Œæ”¶ç›Šè´¨æŠ¼ã€‚

## é¡¹ç›®ç‰¹æ€§

- **YD ERC20 ä»£å¸**: å¹³å°åŸç”Ÿä»£å¸ï¼Œç”¨äºè¯¾ç¨‹è´­ä¹°
- **è¯¾ç¨‹ç®¡ç†**: åˆ›å»ºè¯¾ç¨‹ã€è®¾ç½®ä»·æ ¼ã€è´­ä¹°è¯¾ç¨‹
- **ä»£å¸æˆæƒ**: ä½¿ç”¨ ERC20 approve æœºåˆ¶å®‰å…¨è´­ä¹°è¯¾ç¨‹
- **AAVE é›†æˆ**: å°†å¹³å°æ”¶ç›Šè´¨æŠ¼åˆ° AAVE è¿›è¡Œç†è´¢
- **MetaMask ç­¾å**: å®‰å…¨çš„ç”¨æˆ·èº«ä»½éªŒè¯å’Œåç§°ä¿®æ”¹
- **å‰åç«¯åˆ†ç¦»**: React å‰ç«¯ + Express åç«¯
- **ç¾è§‚ UI**: ä½¿ç”¨ Tailwind CSS å’Œæ¸å˜æ•ˆæœ

## æŠ€æœ¯æ ˆ

### æ™ºèƒ½åˆçº¦
- Solidity 0.8.20
- Hardhat
- OpenZeppelin Contracts
- AAVE V3

### å‰ç«¯
- React 18
- Vite
- Tailwind CSS
- Wagmi (ä»¥å¤ªåŠ React Hooks)
- RainbowKit (é’±åŒ…è¿æ¥)
- React Router

### åç«¯
- Express.js
- PostgreSQL
- Ethers.js (ç­¾åéªŒè¯)

## é¡¹ç›®ç»“æ„

```
web3-university/
â”œâ”€â”€ contracts/          # æ™ºèƒ½åˆçº¦
â”‚   â”œâ”€â”€ contracts/
â”‚   â”‚   â”œâ”€â”€ YDToken.sol
â”‚   â”‚   â”œâ”€â”€ CourseManager.sol
â”‚   â”‚   â””â”€â”€ AaveIntegration.sol
â”‚   â”œâ”€â”€ scripts/
â”‚   â”‚   â””â”€â”€ deploy.js
â”‚   â””â”€â”€ hardhat.config.js
â”œâ”€â”€ frontend/           # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ App.jsx
â”‚   â””â”€â”€ package.json
â””â”€â”€ backend/            # åç«¯ API
    â”œâ”€â”€ routes/
    â”œâ”€â”€ utils/
    â”œâ”€â”€ database/
    â””â”€â”€ server.js
```

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
# å®‰è£…åˆçº¦ä¾èµ–
cd contracts
npm install

# å®‰è£…å‰ç«¯ä¾èµ–
cd ../frontend
npm install

# å®‰è£…åç«¯ä¾èµ–
cd ../backend
npm install
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

#### åˆçº¦ (.env)
```bash
cd contracts
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ RPC URLã€ç§é’¥ç­‰
```

#### å‰ç«¯ (.env)
```bash
cd frontend
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ API URLã€åˆçº¦åœ°å€ç­‰
```

#### åç«¯ (.env)
```bash
cd backend
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥æ•°æ®åº“é…ç½®ç­‰
```

### 3. éƒ¨ç½²æ™ºèƒ½åˆçº¦

```bash
cd contracts

# ç¼–è¯‘åˆçº¦
npx hardhat compile

# éƒ¨ç½²åˆ°æœ¬åœ°æµ‹è¯•ç½‘
npx hardhat node
npx hardhat run scripts/deploy.js --network localhost

# éƒ¨ç½²åˆ° Sepolia æµ‹è¯•ç½‘
npx hardhat run scripts/deploy.js --network sepolia
```

éƒ¨ç½²åï¼Œå°†åˆçº¦åœ°å€å¡«å…¥å‰ç«¯å’Œåç«¯çš„ `.env` æ–‡ä»¶ã€‚

### 4. åˆå§‹åŒ–æ•°æ®åº“

ç¡®ä¿ PostgreSQL å·²å®‰è£…å¹¶è¿è¡Œã€‚

```bash
# åˆ›å»ºæ•°æ®åº“
createdb web3_university

# åˆå§‹åŒ–æ•°æ®åº“è¡¨
cd backend
node database/init.js
```

### 5. å¯åŠ¨åº”ç”¨

```bash
# å¯åŠ¨åç«¯ (ç»ˆç«¯ 1)
cd backend
npm run dev

# å¯åŠ¨å‰ç«¯ (ç»ˆç«¯ 2)
cd frontend
npm run dev
```

è®¿é—® http://localhost:3000 å¼€å§‹ä½¿ç”¨ï¼

## ä½¿ç”¨æµç¨‹

### 1. è¿æ¥é’±åŒ…
- ç‚¹å‡»å³ä¸Šè§’ "Connect Wallet" æŒ‰é’®
- é€‰æ‹© MetaMask å¹¶æˆæƒè¿æ¥

### 2. è´­ä¹° YD ä»£å¸
- è®¿é—® "è´­ä¹°ä»£å¸" é¡µé¢
- è¾“å…¥è¦æ”¯ä»˜çš„ ETH æ•°é‡
- ç¡®è®¤äº¤æ˜“ï¼Œè·å¾— YD ä»£å¸

### 3. åˆ›å»ºè¯¾ç¨‹ï¼ˆä½œä¸ºè®²å¸ˆï¼‰
- è®¿é—® "åˆ›å»ºè¯¾ç¨‹" é¡µé¢
- å¡«å†™è¯¾ç¨‹æ ‡é¢˜ã€æè¿°å’Œä»·æ ¼
- æäº¤äº¤æ˜“ï¼Œåˆ›å»ºè¯¾ç¨‹

### 4. è´­ä¹°è¯¾ç¨‹ï¼ˆä½œä¸ºå­¦ç”Ÿï¼‰
- æµè§ˆ "è¯¾ç¨‹" é¡µé¢
- é€‰æ‹©æ„Ÿå…´è¶£çš„è¯¾ç¨‹
- ç‚¹å‡» "æˆæƒ YD ä»£å¸"ï¼ˆé¦–æ¬¡è´­ä¹°éœ€è¦ï¼‰
- ç‚¹å‡» "è´­ä¹°è¯¾ç¨‹" å®Œæˆè´­ä¹°

### 5. ä¸ªäººä¸­å¿ƒ
- è®¿é—® "ä¸ªäººä¸­å¿ƒ" é¡µé¢
- ä½¿ç”¨ MetaMask ç­¾åä¿®æ”¹æ˜µç§°
- æŸ¥çœ‹å·²è´­ä¹°çš„è¯¾ç¨‹åˆ—è¡¨

### 6. AAVE è´¨æŠ¼ï¼ˆä½œä¸ºå¹³å°ç®¡ç†å‘˜ï¼‰
- å¹³å°æ”¶å–çš„æ‰‹ç»­è´¹å¯ä»¥è´¨æŠ¼åˆ° AAVE
- ä½¿ç”¨ AaveIntegration åˆçº¦è¿›è¡Œæ“ä½œ

## åˆçº¦åœ°å€ï¼ˆSepolia æµ‹è¯•ç½‘ï¼‰

éƒ¨ç½²åè¯·æ›´æ–°ä»¥ä¸‹åœ°å€ï¼š

- YD Token: `YOUR_YD_TOKEN_ADDRESS`
- Course Manager: `YOUR_COURSE_MANAGER_ADDRESS`
- AAVE Integration: `YOUR_AAVE_INTEGRATION_ADDRESS`

## ä¸»è¦åŠŸèƒ½

### æ™ºèƒ½åˆçº¦

#### YDToken.sol
- ERC20 ä»£å¸æ ‡å‡†
- è´­ä¹°ä»£å¸ï¼ˆETH â†’ YDï¼‰
- ä»·æ ¼ç®¡ç†

#### CourseManager.sol
- åˆ›å»ºè¯¾ç¨‹
- è´­ä¹°è¯¾ç¨‹ï¼ˆä½¿ç”¨ YD ä»£å¸ï¼‰
- è¯¾ç¨‹ä»·æ ¼æ›´æ–°
- æ”¶ç›Šæå–
- å¹³å°æ‰‹ç»­è´¹ï¼ˆ5%ï¼‰

#### AaveIntegration.sol
- ä»£å¸å…‘æ¢ï¼ˆYD/ETH â†’ USDTï¼‰
- AAVE è´¨æŠ¼
- æ”¶ç›Šç®¡ç†

### å‰ç«¯åŠŸèƒ½

- ğŸ  é¦–é¡µï¼šå¹³å°ä»‹ç»å’ŒåŠŸèƒ½å±•ç¤º
- ğŸ“š è¯¾ç¨‹åˆ—è¡¨ï¼šæµè§ˆæ‰€æœ‰è¯¾ç¨‹ï¼Œæœç´¢åŠŸèƒ½
- â• åˆ›å»ºè¯¾ç¨‹ï¼šè®²å¸ˆå‘å¸ƒè¯¾ç¨‹
- ğŸ’° è´­ä¹°ä»£å¸ï¼šETH å…‘æ¢ YD ä»£å¸
- ğŸ‘¤ ä¸ªäººä¸­å¿ƒï¼šç®¡ç†ä¸ªäººä¿¡æ¯å’Œå·²è´­è¯¾ç¨‹

### åç«¯åŠŸèƒ½

- ç”¨æˆ·ç®¡ç†ï¼ˆå­˜å‚¨ç”¨æˆ·æ˜µç§°ç­‰ï¼‰
- MetaMask ç­¾åéªŒè¯
- æ´»åŠ¨æ—¥å¿—è®°å½•
- RESTful API

## å®‰å…¨ç‰¹æ€§

- âœ… ä½¿ç”¨ OpenZeppelin å®‰å…¨åˆçº¦
- âœ… é‡å…¥æ”»å‡»ä¿æŠ¤ï¼ˆReentrancyGuardï¼‰
- âœ… è®¿é—®æ§åˆ¶ï¼ˆOwnableï¼‰
- âœ… MetaMask ç­¾åéªŒè¯
- âœ… æ—¶é—´æˆ³é˜²é‡æ”¾æ”»å‡»
- âœ… è¾“å…¥éªŒè¯å’Œæ¶ˆæ¯’

## å¼€å‘è¯´æ˜

### è¿è¡Œæµ‹è¯•

```bash
cd contracts
npx hardhat test
```

### éªŒè¯åˆçº¦

```bash
npx hardhat verify --network sepolia DEPLOYED_CONTRACT_ADDRESS
```

### æ•°æ®åº“è¿ç§»

å¦‚éœ€ä¿®æ”¹æ•°æ®åº“ç»“æ„ï¼Œè¯·ç¼–è¾‘ `backend/database/schema.sql` å¹¶é‡æ–°è¿è¡Œåˆå§‹åŒ–è„šæœ¬ã€‚

## æ³¨æ„äº‹é¡¹

1. **æµ‹è¯•ç½‘ä½¿ç”¨**: å»ºè®®å…ˆåœ¨ Sepolia æµ‹è¯•ç½‘éƒ¨ç½²å’Œæµ‹è¯•
2. **ç§é’¥å®‰å…¨**: æ°¸è¿œä¸è¦æäº¤åŒ…å«çœŸå®ç§é’¥çš„ `.env` æ–‡ä»¶
3. **Gas è´¹ç”¨**: ç¡®ä¿é’±åŒ…æœ‰è¶³å¤Ÿçš„ ETH æ”¯ä»˜ Gas
4. **AAVE åœ°å€**: ä½¿ç”¨æ­£ç¡®çš„ AAVE Pool åœ°å€ï¼ˆæ ¹æ®ç½‘ç»œä¸åŒï¼‰
5. **æ•°æ®åº“å¤‡ä»½**: å®šæœŸå¤‡ä»½ PostgreSQL æ•°æ®åº“

## å¾…å®Œå–„åŠŸèƒ½

- [ ] è¯¾ç¨‹å†…å®¹ç®¡ç†ï¼ˆè§†é¢‘ã€æ–‡æ¡£ç­‰ï¼‰
- [ ] è¯¾ç¨‹è¯„ä»·ç³»ç»Ÿ
- [ ] è®²å¸ˆè®¤è¯æœºåˆ¶
- [ ] æ›´å®Œå–„çš„ AAVE é›†æˆ
- [ ] ç§»åŠ¨ç«¯é€‚é…
- [ ] å›½é™…åŒ–æ”¯æŒ

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## è®¸å¯è¯

MIT License

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æäº¤ Issue æˆ–è”ç³»å¼€å‘å›¢é˜Ÿã€‚

---

**æ³¨æ„**: è¿™æ˜¯ä¸€ä¸ªæ•™è‚²é¡¹ç›®ï¼Œä»…ç”¨äºå­¦ä¹ å’Œæ¼”ç¤ºç›®çš„ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨å‰ï¼Œè¯·è¿›è¡Œå…¨é¢çš„å®‰å…¨å®¡è®¡ã€‚
